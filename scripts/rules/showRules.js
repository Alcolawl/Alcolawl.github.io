function choiceLauncher() { 1 == tableExists && ($(myTable).children().remove(), output = ""), createTable() } function createTable() { var t = "../../xml/shows/" + filename + ".xml"; $.ajax({ type: "GET", url: t, dataType: "xml", success: function (t) { globalXml = t, iteration = 0, x = 1, tableExists = !0, $(t).find("show").each(function () { document.title = $(this).find("title").text(), showTitle.innerHTML = document.title + "." }); for (var e = 1; 7 > e; e++) $(t).find("drink").each(function () { var t = "", t = $(this).find("rule" + String.fromCharCode(letter + e)).text(); return "" == t ? !1 : (output = output + "<tr><td>" + x + '.</td><td class="rule">' + t + "</td></tr>", void x++) }); for (var e = 1; 7 > e; e++) $(t).find("gulp").each(function () { var t = "", t = $(this).find("rule" + String.fromCharCode(letter + e)).text(); return "" != t && 1 == e && (output += '<tr><th width="5%"></th><th>Take a Gulp When:</th></tr>'), "" == t ? !1 : (output = output + "<tr><td>" + x + '.</td><td class="rule">' + t + "</td></tr>", void x++) }); for (var e = 1; 7 > e; e++) $(t).find("chug").each(function () { var t = "", t = $(this).find("rule" + String.fromCharCode(letter + e)).text(); return "" != t && 1 == e && (output += '<tr><th width="5%"></th><th>Chug For 5 Seconds When:</th></tr>'), "" == t ? !1 : (output = output + "<tr><td>" + x + '.</td><td class="rule">' + t + "</td></tr>", void x++) }); for (var e = 1; 7 > e; e++) $(t).find("finish").each(function () { var t = "", t = $(this).find("rule" + String.fromCharCode(letter + e)).text(); return "" != t && 1 == e && (output += '<tr><th width="5%"></th><th>Finish Your Drink When:</th></tr>'), "" == t ? !1 : (output = output + "<tr><td>" + x + '.</td><td class="rule">' + t + "</td></tr>", void x++) }); myTable.innerHTML = finalize + output } }) } var filename = document.cookie; $(document).ready(function () { filename = filename.replace("; popup=1", ""), filename = filename.replace("filename=", ""), document.cookie = "filename=; expires=Thu, 01 Jan 1970 00:00:00 UTC", choiceLauncher() }); var iteration = 0, x = 1, letter = 64, output = "", finalize = '<tr><th width="5%"></th><th>Take a Drink when:</th></tr>', myTable = document.getElementById("rulesTable"), showTitle = document.getElementById("showTitle"), tableExists = !1, globalXml;